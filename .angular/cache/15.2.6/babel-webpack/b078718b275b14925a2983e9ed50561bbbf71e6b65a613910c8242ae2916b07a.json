{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport * as moment from 'moment';\nlet MainScreenComponent = class MainScreenComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.valid = false;\n    this.asked = false;\n  }\n  ngOnInit() {\n    this.configForm();\n    this.initSubscriptions();\n  }\n  calculateAge(event) {\n    let date = this.value.year + \"-\" + this.value.month + \"-\" + this.value.day;\n    this.momDate = moment(date, 'YYYY/MM/DD');\n    this.currentDate = moment();\n    this.getYearMonthsDays(this.currentDate, this.momDate);\n    this.asked = true;\n    this.cleanForm();\n    this.dateForm.markAsPristine();\n  }\n  cleanForm() {\n    this.dateForm.get('year').setValue('');\n    this.dateForm.get('month').setValue('');\n    this.dateForm.get('day').setValue('');\n  }\n  configForm() {\n    this.dateForm = this.fb.group({\n      day: new FormControl('', [Validators.required, Validators.minLength(1), Validators.maxLength(2), Validators.min(1), Validators.max(31)]),\n      month: new FormControl('', [Validators.required, Validators.minLength(1), Validators.maxLength(2), Validators.min(1), Validators.max(12)]),\n      year: new FormControl('', [Validators.required, Validators.minLength(4), Validators.maxLength(4)])\n    });\n  }\n  initSubscriptions() {\n    let date;\n    this.dateForm.valueChanges.subscribe(value => {\n      if (this.dateForm.valid) {\n        this.value = value;\n        this.momDate = moment(date, 'YYYY/MM/DD');\n        this.asked = false;\n      }\n    });\n  }\n  getYearMonthsDays(a, b) {\n    if (this.dateForm.valid && moment(a).isValid && moment(b).isValid) {\n      this.years = a.diff(b, 'year');\n      b.add(this.years, 'years');\n      this.months = a.diff(b, 'months');\n      b.add(this.months, 'months');\n      this.days = a.diff(b, 'days');\n    }\n  }\n};\nMainScreenComponent = __decorate([Component({\n  selector: 'app-main-screen',\n  templateUrl: './main-screen.component.html',\n  styleUrls: ['./main-screen.component.scss']\n})], MainScreenComponent);\nexport { MainScreenComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}